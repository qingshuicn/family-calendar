{"version":3,"file":"js/app.c9f7d357.js","mappings":"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","sources":["webpack://frontend/./src/App.vue","webpack://frontend/./src/App.vue?7ccd","webpack://frontend/./src/views/HomeView.vue","webpack://frontend/./src/stores/events.js","webpack://frontend/./src/components/EventModal.vue","webpack://frontend/./src/components/EventModal.vue?c1a4","webpack://frontend/./src/components/FamilyTabs.vue","webpack://frontend/./src/components/FamilyTabs.vue?fbfb","webpack://frontend/./src/components/EventBlockView.vue","webpack://frontend/./src/components/EventBlockView.vue?0876","webpack://frontend/./src/components/CurrentDateTime.vue","webpack://frontend/./src/components/CurrentDateTime.vue?47af","webpack://frontend/./src/components/MonthlyCalendar.vue","webpack://frontend/./src/components/MonthlyCalendar.vue?27ed","webpack://frontend/./src/components/RoleManagement.vue","webpack://frontend/./src/components/RoleManagement.vue?5850","webpack://frontend/./src/composables/useWebSocket.js","webpack://frontend/./src/views/HomeView.vue?1da1","webpack://frontend/./src/views/ScheduleInputView.vue","webpack://frontend/./src/views/ScheduleInputView.vue?48ec","webpack://frontend/./src/router/index.js","webpack://frontend/./src/registerServiceWorker.js","webpack://frontend/./src/main.js","webpack://frontend/webpack/bootstrap","webpack://frontend/webpack/runtime/chunk loaded","webpack://frontend/webpack/runtime/define property getters","webpack://frontend/webpack/runtime/global","webpack://frontend/webpack/runtime/hasOwnProperty shorthand","webpack://frontend/webpack/runtime/make namespace object","webpack://frontend/webpack/runtime/jsonp chunk loading","webpack://frontend/webpack/startup"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <main>\n      <router-view></router-view>\n    </main>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\nhtml, body {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  overflow: hidden;\n}\n\n#app {\n  font-family: 'Roboto', Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  background-color: #f5f7fa;\n}\n\nmain {\n  flex-grow: 1;\n  overflow: hidden;\n}\n\n/* 全局样式 */\nh1, h2, h3, h4, h5, h6 {\n  font-weight: 500;\n}\n\nbutton {\n  background-color: #4a0e4e;\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\nbutton:hover {\n  background-color: #6a1c6e;\n}\n\ninput, select {\n  border: 1px solid #e0e0e0;\n  padding: 8px;\n  border-radius: 4px;\n  font-size: 14px;\n}\n\n/* 可以添加更多全局样式 */\n</style>","import { render } from \"./App.vue?vue&type=template&id=4a7f180f\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=4a7f180f&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"home-view\">\n    <header class=\"header\">\n      <h1>家庭日程</h1>\n      <CurrentDateTime />\n    </header>\n    <div class=\"layout\">\n      <div class=\"sidebar\">\n        <MonthlyCalendar \n          :events=\"eventStore.events\" \n          @date-selected=\"handleDateSelected\"\n          @search=\"handleSearch\"\n        />\n        <FamilyTabs @open-role-management=\"showRoleManagement = true\" />\n      </div>\n      <div class=\"main-content\">\n        <EventBlockView />\n      </div>\n    </div>\n    \n    <!-- 角色管理模态框 -->\n    <div v-if=\"showRoleManagement\" class=\"modal\">\n      <div class=\"modal-content\">\n        <button @click=\"showRoleManagement = false\" class=\"close-btn\">&times;</button>\n        <RoleManagement />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted, onUnmounted, watch } from 'vue';\nimport { useEventStore } from '@/stores/events';\nimport FamilyTabs from '@/components/FamilyTabs.vue';\nimport EventBlockView from '@/components/EventBlockView.vue';\nimport CurrentDateTime from '@/components/CurrentDateTime.vue';\nimport MonthlyCalendar from '@/components/MonthlyCalendar.vue';\nimport RoleManagement from '@/components/RoleManagement.vue';\nimport useWebSocket from '../composables/useWebSocket';\n\nexport default {\n  name: 'HomeView',\n  components: {\n    FamilyTabs,\n    EventBlockView,\n    CurrentDateTime,\n    MonthlyCalendar,\n    RoleManagement\n  },\n  setup() {\n    const eventStore = useEventStore();\n    const { connectWebSocket, disconnectWebSocket } = useWebSocket(eventStore);\n    const showRoleManagement = ref(false);\n\n    function handleDateSelected(date) {\n      eventStore.setSelectedDate(date);\n    }\n\n    function handleSearch(query) {\n      eventStore.setSearchQuery(query);\n    }\n\n    onMounted(async () => {\n      await eventStore.fetchFamilyMembers();\n      await eventStore.fetchEvents();\n      await eventStore.fetchWeeklyStars();\n      eventStore.setSelectedDate(new Date());\n      connectWebSocket();\n    });\n\n    onUnmounted(() => {\n      disconnectWebSocket();\n    });\n\n    watch(() => eventStore.events, () => {\n      console.log('Events updated:', eventStore.events.length);\n    }, { deep: true });\n\n    watch(() => eventStore.filteredEvents, () => {\n      console.log('Filtered events updated:', eventStore.filteredEvents.length);\n    }, { deep: true });\n\n    return {\n      eventStore,\n      handleDateSelected,\n      handleSearch,\n      showRoleManagement\n    };\n  }\n};\n</script>\n\n<style src=\"./HomeView.css\" scoped></style>","import { defineStore } from 'pinia'\nimport axios from 'axios'\n\nexport const useEventStore = defineStore('events', {\n  state: () => ({\n    familyMembers: [],\n    events: [],\n    selectedMember: null,\n    selectedDate: new Date(),\n    searchQuery: '',\n    pendingEvents: new Set(), // 用于跟踪正在添加的事件\n  }),\n\n  getters: {\n    filteredEvents: (state) => {\n      return state.events.filter(event => {\n        const eventStartDate = new Date(event.startDate);\n        const matchesDate = \n          eventStartDate.getFullYear() === state.selectedDate.getFullYear() &&\n          eventStartDate.getMonth() === state.selectedDate.getMonth() &&\n          eventStartDate.getDate() === state.selectedDate.getDate();\n        const matchesSearch = !state.searchQuery || event.title.toLowerCase().includes(state.searchQuery.toLowerCase());\n        const matchesMember = !state.selectedMember || \n                              state.selectedMember === '全家' || \n                              event.role === state.selectedMember;\n        \n        return matchesDate && matchesSearch && matchesMember;\n      });\n    }\n  },\n\n  actions: {\n    async fetchEvents() {\n      try {\n        const response = await axios.get('/api/events');\n        this.events = response.data;\n        console.log('Fetched events:', this.events);\n      } catch (error) {\n        console.error('获取事件失败:', error);\n      }\n    },\n\n    setSelectedMember(memberName) {\n      console.log('Setting selected member:', memberName);\n      this.selectedMember = memberName;\n    },\n    \n    resetSelectedMember() {\n      console.log('Resetting selected member');\n      this.selectedMember = null;\n    },\n    \n    async fetchFamilyMembers() {\n      try {\n        const response = await axios.get('/api/roles');\n        this.familyMembers = response.data.map(role => ({\n          id: role._id,\n          name: role.name,\n          weeklyStars: 0,\n          isDefault: role.isDefault,\n          color: role.color || this.getDefaultColor(role.name),\n          borderColor: role.borderColor || this.getDefaultBorderColor(role.name)\n        }));\n      } catch (error) {\n        console.error('获取家庭成员失败:', error);\n      }\n    },\n\n    getDefaultColor(roleName) {\n      const colors = {\n        '全家': '#e0e0e0',\n        '爸爸': '#bbdefb',\n        '妈妈': '#f8bbd0',\n        '弟弟': '#c8e6c9',\n        '姐姐': '#ffecb3',\n        '阿姨': '#d7ccc8'\n      };\n      return colors[roleName] || '#e0e0e0';\n    },\n\n    getDefaultBorderColor(roleName) {\n      const borderColors = {\n        '全家': '#9e9e9e',\n        '爸爸': '#1976d2',\n        '妈妈': '#e91e63',\n        '弟弟': '#4caf50',\n        '姐姐': '#ffa000',\n        '阿姨': '#795548'\n      };\n      return borderColors[roleName] || '#9e9e9e';\n    },\n\n    setEventsFromWebSocket(events) {\n      this.events = events;\n    },\n\n    addEventFromWebSocket(event) {\n      // 检查是否已存在完全相同的事件\n      const existingEventIndex = this.events.findIndex(e => \n        e._id === event._id ||\n        (e.title === event.title && \n         e.startDate === event.startDate && \n         e.endDate === event.endDate && \n         e.role === event.role)\n      );\n\n      if (existingEventIndex === -1) {\n        // 如果事件不存在，则添加它\n        this.events.push(event);\n      } else {\n        // 如果事件已存在，更新它\n        this.events[existingEventIndex] = event;\n      }\n\n      // 触发更新\n      this.events = [...this.events];\n      console.log('从 WebSocket 添加或更新事件:', event);\n    },\n\n    async addEvent(eventData) {\n      const eventKey = `${eventData.title}-${eventData.startDate}`;\n      if (this.pendingEvents.has(eventKey)) {\n        console.log('事件正在添加中，忽略重复请求');\n        return;\n      }\n\n      this.pendingEvents.add(eventKey);\n\n      try {\n        const response = await axios.post('/api/events', eventData);\n        console.log('事件已添加到服务器:', response.data);\n        return response.data;\n      } catch (error) {\n        console.error('添加事件失败:', error);\n        throw error;\n      } finally {\n        this.pendingEvents.delete(eventKey);\n      }\n    },\n    \n    async updateEventCompletion(eventId, isCompleted) {\n      try {\n        const response = await axios.put(`/api/events/${eventId}/complete`, { completed: isCompleted });\n        const updatedEvent = response.data.event;\n        const index = this.events.findIndex(e => e._id === eventId);\n        if (index !== -1) {\n          this.events[index] = { ...this.events[index], ...updatedEvent };\n        }\n        return response.data.updatedStars;\n      } catch (error) {\n        console.error('更新事件完成状态失败:', error);\n      }\n    },\n    \n    async fetchWeeklyStars() {\n      try {\n        const response = await axios.get('/api/weekly-stars');\n        const starData = response.data;\n        this.familyMembers.forEach(member => {\n          member.weeklyStars = starData[member.id] || 0;\n        });\n      } catch (error) {\n        console.error('获取每周星星数据失败:', error);\n      }\n    },\n    \n    setSelectedDate(date) {\n      this.selectedDate = date;\n    },\n    \n    setSearchQuery(query) {\n      this.searchQuery = query;\n    },\n    \n    // 角色管理相关的 actions\n    async addRole(roleName) {\n      try {\n        const response = await axios.post('/api/roles', { name: roleName });\n        const newRole = {\n          id: response.data._id,\n          name: response.data.name,\n          weeklyStars: 0,\n          isDefault: false,\n          color: this.getDefaultColor(response.data.name),\n          borderColor: this.getDefaultBorderColor(response.data.name)\n        };\n        this.familyMembers.push(newRole);\n      } catch (error) {\n        console.error('添加角色失败:', error);\n      }\n    },\n    \n    async deleteRole(roleId) {\n      try {\n        await axios.delete(`/api/roles/${roleId}`);\n        this.familyMembers = this.familyMembers.filter(member => member.id !== roleId);\n      } catch (error) {\n        console.error('删除角色失败:', error);\n      }\n    },\n    \n    async updateRole(roleId, newName) {\n      try {\n        await axios.put(`/api/roles/${roleId}`, { name: newName });\n        const index = this.familyMembers.findIndex(member => member.id === roleId);\n        if (index !== -1) {\n          this.familyMembers[index].name = newName;\n          this.familyMembers[index].color = this.getDefaultColor(newName);\n          this.familyMembers[index].borderColor = this.getDefaultBorderColor(newName);\n        }\n      } catch (error) {\n        console.error('更新角色失败:', error);\n      }\n    },\n  }\n});","<template>\n  <div class=\"modal-overlay\" @click=\"close\">\n    <div class=\"modal-content\" @click.stop>\n      <h2>添加新日程</h2>\n      <form @submit.prevent=\"submitEvent\">\n        <div class=\"form-group\">\n          <label for=\"title\">标题：</label>\n          <input id=\"title\" v-model=\"eventData.title\" required>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"description\">描述：</label>\n          <textarea id=\"description\" v-model=\"eventData.description\" required></textarea>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"startTime\">开始时间：</label>\n          <select id=\"startTime\" v-model=\"eventData.startTime\" required>\n            <option v-for=\"time in timeSlots\" :key=\"time\" :value=\"time\">{{ time }}</option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"endTime\">结束时间：</label>\n          <select id=\"endTime\" v-model=\"eventData.endTime\" required>\n            <option v-for=\"time in endTimeSlots\" :key=\"time\" :value=\"time\">{{ time }}</option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"role\">角色：</label>\n          <select id=\"role\" v-model=\"eventData.role\" required>\n            <option value=\"\">请选择角色</option>\n            <option v-for=\"member in sortedFamilyMembers\" :key=\"member.id\" :value=\"member.id\">\n              {{ member.name }}\n            </option>\n          </select>\n        </div>\n        <div class=\"form-actions\">\n          <button type=\"button\" @click=\"close\">取消</button>\n          <button type=\"submit\">提交</button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch, onMounted } from 'vue'\nimport { useEventStore } from '@/stores/events'\n\nconst eventStore = useEventStore()\nconst props = defineProps({\n  selectedMember: String\n})\nconst emit = defineEmits(['close', 'submit'])\n\nconst eventData = ref({\n  title: '',\n  description: '',\n  startTime: '',\n  endTime: '',\n  role: ''\n})\n\nconst timeSlots = ref([])\nconst endTimeSlots = computed(() => {\n  const startIndex = timeSlots.value.indexOf(eventData.value.startTime)\n  return timeSlots.value.slice(startIndex + 1)\n})\n\nconst sortedFamilyMembers = computed(() => {\n  const members = [...eventStore.familyMembers]\n  const allMember = members.find(m => m.id === 'all')\n  if (allMember) {\n    members.splice(members.indexOf(allMember), 1)\n    members.unshift(allMember)\n  }\n  return members.sort((a, b) => {\n    if (a.id === 'all') return -1\n    if (b.id === 'all') return 1\n    return a.name.localeCompare(b.name)\n  })\n})\n\nfunction generateTimeSlots() {\n  const slots = []\n  const now = new Date()\n  const start = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0, 0, 0)\n  \n  for (let i = 0; i < 96; i++) { // 15分钟间隔，24小时共96个时间段\n    const time = new Date(start.getTime() + i * 15 * 60000)\n    slots.push(time.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' }))\n  }\n  \n  timeSlots.value = slots\n}\n\nfunction setDefaultTimes() {\n  const now = new Date()\n  const currentTime = now.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' })\n  \n  // 找到最接近当前时间的时间段\n  const closestTime = timeSlots.value.reduce((prev, curr) => {\n    return Math.abs(new Date('1970/01/01 ' + curr) - new Date('1970/01/01 ' + currentTime)) < \n           Math.abs(new Date('1970/01/01 ' + prev) - new Date('1970/01/01 ' + currentTime)) \n           ? curr : prev\n  })\n  \n  eventData.value.startTime = closestTime\n  \n  // 设置默认结束时间为开始时间后一小时\n  const startIndex = timeSlots.value.indexOf(closestTime)\n  const endIndex = Math.min(startIndex + 4, timeSlots.value.length - 1) // 默认一小时后，但不超过最后一个时间段\n  eventData.value.endTime = timeSlots.value[endIndex]\n}\n\nonMounted(() => {\n  generateTimeSlots()\n  setDefaultTimes()\n  // 设置默认角色\n  eventData.value.role = props.selectedMember || ''\n})\n\nwatch(() => props.selectedMember, (newValue) => {\n  eventData.value.role = newValue || ''\n})\n\nfunction close() {\n  emit('close')\n}\n\nfunction submitEvent() {\n  const today = new Date()\n  const [startHours, startMinutes] = eventData.value.startTime.split(':')\n  const [endHours, endMinutes] = eventData.value.endTime.split(':')\n\n  const startDate = new Date(today.getFullYear(), today.getMonth(), today.getDate(), parseInt(startHours), parseInt(startMinutes))\n  const endDate = new Date(today.getFullYear(), today.getMonth(), today.getDate(), parseInt(endHours), parseInt(endMinutes))\n  \n  if (endDate < startDate) {\n    endDate.setDate(endDate.getDate() + 1)\n  }\n\n  const formattedEvent = {\n    title: eventData.value.title,\n    description: eventData.value.description,\n    startDate: startDate.toISOString().slice(0, 19),\n    endDate: endDate.toISOString().slice(0, 19),\n    role: eventData.value.role || null // 如果没有选择角色，设置为 null\n  }\n\n  console.log('Submitting event:', formattedEvent);\n  emit('submit', formattedEvent)\n}\n</script>\n\n<style scoped>\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.modal-content {\n  background-color: white;\n  padding: 20px;\n  border-radius: 8px;\n  width: 90%;\n  max-width: 500px;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\nh2 {\n  margin-top: 0;\n  margin-bottom: 20px;\n  color: #4a0e4e;\n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\nlabel {\n  display: block;\n  margin-bottom: 5px;\n  font-weight: bold;\n  color: #333;\n}\n\ninput, textarea, select {\n  width: 100%;\n  padding: 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 14px;\n}\n\ntextarea {\n  min-height: 100px;\n  resize: vertical;\n}\n\n.form-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  margin-top: 20px;\n}\n\nbutton {\n  padding: 10px 20px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: background-color 0.3s ease;\n}\n\nbutton[type=\"submit\"] {\n  background-color: #4a0e4e;\n  color: white;\n}\n\nbutton[type=\"submit\"]:hover {\n  background-color: #3a0b3e;\n}\n\nbutton[type=\"button\"] {\n  background-color: #f0f0f0;\n  color: #333;\n}\n\nbutton[type=\"button\"]:hover {\n  background-color: #e0e0e0;\n}\n</style>","import script from \"./EventModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EventModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EventModal.vue?vue&type=style&index=0&id=3e301076&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3e301076\"]])\n\nexport default __exports__","<template>\n  <div class=\"family-tabs\">\n    <div class=\"member-list\">\n      <div \n        v-for=\"member in sortedFamilyMembers\" \n        :key=\"member.id\"\n        :class=\"['member-tab', { active: member.name === eventStore.selectedMember }]\"\n        @click=\"selectMember(member.name)\"\n        :style=\"{ backgroundColor: member.color, borderColor: member.borderColor }\"\n      >\n        <div class=\"avatar-container\">\n          <img v-if=\"member.avatar\" :src=\"member.avatar\" :alt=\"member.name\" class=\"member-avatar\">\n          <div v-else class=\"avatar-placeholder\"></div>\n        </div>\n        <div class=\"member-info\">\n          <span class=\"member-name\">{{ member.name }}</span>\n          <span class=\"star\">⭐ {{ member.weeklyStars }}</span>\n        </div>\n      </div>\n    </div>\n    <div class=\"action-buttons\">\n      <button @click=\"openAddEventModal\" class=\"add-event-btn\">添加日程</button>\n      <button @click=\"$emit('open-role-management')\" class=\"manage-roles-btn\">管理角色</button>\n    </div>\n    <EventModal \n      v-if=\"showEventModal\"\n      :selectedMember=\"eventStore.selectedMember\"\n      @close=\"closeAddEventModal\"\n      @submit=\"submitNewEvent\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onUnmounted } from 'vue'\nimport { useEventStore } from '@/stores/events'\nimport EventModal from './EventModal.vue'\n\nconst eventStore = useEventStore()\nconst showEventModal = ref(false)\nlet resetTimer = null\n\nconst sortedFamilyMembers = computed(() => {\n  return [...eventStore.familyMembers].sort((a, b) => {\n    if (a.name === '全家') return -1\n    if (b.name === '全家') return 1\n    return a.name.localeCompare(b.name)\n  })\n})\n\nfunction selectMember(memberName) {\n  if (eventStore.selectedMember === memberName) {\n    eventStore.resetSelectedMember()\n    clearTimeout(resetTimer)\n    resetTimer = null\n  } else {\n    eventStore.setSelectedMember(memberName)\n    resetAutoResetTimer()\n  }\n}\n\nfunction resetAutoResetTimer() {\n  if (resetTimer) {\n    clearTimeout(resetTimer)\n  }\n  resetTimer = setTimeout(() => {\n    eventStore.resetSelectedMember()\n    resetTimer = null\n  }, 30000) // 30秒后重置\n}\n\nfunction openAddEventModal() {\n  showEventModal.value = true\n}\n\nfunction closeAddEventModal() {\n  showEventModal.value = false\n}\n\nasync function submitNewEvent(eventData) {\n  try {\n    await eventStore.addEvent(eventData)\n    closeAddEventModal()\n  } catch (error) {\n    console.error('创建新事件失败:', error)\n  }\n}\n\nonUnmounted(() => {\n  if (resetTimer) {\n    clearTimeout(resetTimer)\n  }\n})\n</script>\n\n<style scoped>\n.family-tabs {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.member-list {\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n}\n\n.member-tab {\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.3s;\n  border-left: 4px solid;\n}\n\n.member-tab.active {\n  filter: brightness(90%);\n}\n\n.avatar-container {\n  width: 40px;\n  height: 40px;\n  margin-right: 10px;\n}\n\n.member-avatar, .avatar-placeholder {\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  object-fit: cover;\n}\n\n.avatar-placeholder {\n  background-color: white;\n  border: 1px solid #e0e0e0;\n}\n\n.member-info {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n}\n\n.member-name {\n  font-weight: bold;\n}\n\n.star {\n  font-size: 12px;\n}\n\n.action-buttons {\n  display: flex;\n  gap: 10px;\n  margin-top: 10px;\n}\n\n.add-event-btn, .manage-roles-btn {\n  flex: 1;\n  padding: 10px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-weight: bold;\n  transition: background-color 0.3s;\n  background-color: #4a0e4e; /* 统一使用深紫色背景 */\n  color: white; /* 统一使用白色文字 */\n}\n\n.add-event-btn:hover, .manage-roles-btn:hover {\n  filter: brightness(110%); /* 统一的悬停效果 */\n}\n</style>","import script from \"./FamilyTabs.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FamilyTabs.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./FamilyTabs.vue?vue&type=style&index=0&id=e0f1d60c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e0f1d60c\"]])\n\nexport default __exports__","<template>\n  <div class=\"event-block-view\">\n    <div v-for=\"event in sortedEvents\" :key=\"getEventKey(event)\" class=\"event-block\" :style=\"getEventStyle(event)\">\n      <div class=\"event-time\">{{ formatEventTime(event) }}</div>\n      <div class=\"event-content\">\n        <h3>{{ event.title }}</h3>\n        <p class=\"event-description\">{{ event.description }}</p>\n        <p class=\"event-role\">{{ event.role }}</p>\n      </div>\n      <div class=\"event-actions\">\n        <button @click=\"toggleEventCompletion(event)\" :class=\"{ completed: event.completed }\">\n          {{ event.completed ? '已完成' : '完成' }}\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue';\nimport { useEventStore } from '@/stores/events';\n\nconst eventStore = useEventStore();\n\nconst sortedEvents = computed(() => {\n  return [...eventStore.filteredEvents].sort((a, b) => {\n    // 首先按开始时间排序\n    const timeCompare = new Date(a.startDate) - new Date(b.startDate);\n    if (timeCompare !== 0) return timeCompare;\n    \n    // 如果开始时间相同，按角色排序\n    return a.role.localeCompare(b.role);\n  });\n});\n\nfunction getEventKey(event) {\n  // 使用事件的唯一属性组合作为 key\n  return `${event._id}-${event.startDate}-${event.endDate}-${event.role}-${event.title}`;\n}\n\nfunction formatEventTime(event) {\n  const start = new Date(event.startDate);\n  const end = new Date(event.endDate);\n  return `${start.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' })} - ${end.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' })}`;\n}\n\nfunction getEventStyle(event) {\n  const member = eventStore.familyMembers.find(m => m.name === event.role);\n  return {\n    backgroundColor: member ? `${member.color}33` : '#e1f5fe33',\n    borderLeft: `4px solid ${member ? member.borderColor : '#03a9f4'}`,\n  };\n}\n\nasync function toggleEventCompletion(event) {\n  try {\n    const updatedStars = await eventStore.updateEventCompletion(event._id, !event.completed);\n    console.log('Updated stars:', updatedStars);\n  } catch (error) {\n    console.error('更新事件完成状态失败:', error);\n  }\n}\n</script>\n\n<style scoped>\n.event-block-view {\n  padding: 10px;\n  height: 100%;\n  overflow-y: auto;\n}\n\n.event-block {\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  margin-bottom: 10px;\n  border-radius: 4px;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n}\n\n.event-time {\n  flex: 0 0 100px;\n  font-weight: bold;\n}\n\n.event-content {\n  flex: 1;\n  margin: 0 10px;\n}\n\n.event-content h3 {\n  margin: 0 0 5px 0;\n  font-size: 16px;\n}\n\n.event-description, .event-role {\n  margin: 0;\n  font-size: 14px;\n}\n\n.event-actions {\n  flex: 0 0 80px;\n  text-align: right;\n}\n\n.event-actions button {\n  padding: 5px 10px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  background-color: #4a0e4e;\n  color: white;\n  font-size: 12px;\n}\n\n.event-actions button.completed {\n  background-color: #4caf50;\n}\n</style>","import script from \"./EventBlockView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EventBlockView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EventBlockView.vue?vue&type=style&index=0&id=2e65249a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2e65249a\"]])\n\nexport default __exports__","<template>\n    <div class=\"current-date-time\">\n      {{ formattedDateTime }}\n    </div>\n  </template>\n  \n  <script setup>\n  import { ref, onMounted, onUnmounted } from 'vue'\n  \n  const formattedDateTime = ref('')\n  \n  function updateDateTime() {\n    const now = new Date()\n    const date = now.toLocaleDateString('zh-CN', { year: 'numeric', month: 'long', day: 'numeric' })\n    const time = now.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' })\n    formattedDateTime.value = `${date} ${time}`\n  }\n  \n  let timer\n  onMounted(() => {\n    updateDateTime()\n    timer = setInterval(updateDateTime, 60000) // 每分钟更新一次\n  })\n  \n  onUnmounted(() => {\n    clearInterval(timer)\n  })\n  </script>\n  \n  <style scoped>\n  .current-date-time {\n    font-size: 1em;\n    color: #4a0e4e;\n    white-space: nowrap;\n  }\n  </style>","import script from \"./CurrentDateTime.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CurrentDateTime.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CurrentDateTime.vue?vue&type=style&index=0&id=80a1425c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-80a1425c\"]])\n\nexport default __exports__","<template>\n  <div class=\"monthly-calendar\">\n    <div class=\"calendar-header\">\n      <button @click=\"previousMonth\">&lt;</button>\n      <span>{{ currentMonthYear }}</span>\n      <button @click=\"nextMonth\">&gt;</button>\n    </div>\n    <div class=\"calendar-grid\">\n      <div v-for=\"day in weekdays\" :key=\"day\" class=\"weekday\">{{ day }}</div>\n      <div v-for=\"day in calendarDays\" :key=\"`${currentMonthYear}-${day.date}`\" \n           :class=\"['calendar-day', { 'current-month': day.isCurrentMonth, 'today': day.isToday, 'has-events': day.hasEvents }]\"\n           @click=\"selectDate(day)\">\n        {{ day.date }}\n        <div v-if=\"day.hasEvents\" class=\"event-indicator\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, watchEffect } from 'vue'\nimport { useEventStore } from '@/stores/events';\n\nexport default {\n  name: 'MonthlyCalendar',\n  props: {\n    events: {\n      type: Array,\n      default: () => []\n    }\n  },\n  setup(props, { emit }) {\n    const eventStore = useEventStore();\n    const currentDate = ref(new Date())\n    const weekdays = ['日', '一', '二', '三', '四', '五', '六']\n\n    const currentMonthYear = computed(() => {\n      return currentDate.value.toLocaleString('zh-CN', { year: 'numeric', month: 'long' })\n    })\n\n    const calendarDays = computed(() => {\n      const year = currentDate.value.getFullYear()\n      const month = currentDate.value.getMonth()\n      const firstDay = new Date(year, month, 1)\n      const lastDay = new Date(year, month + 1, 0)\n      const daysInMonth = lastDay.getDate()\n      const startingDayOfWeek = firstDay.getDay()\n\n      const days = []\n      const today = new Date()\n\n      // 添加上个月的日期\n      for (let i = startingDayOfWeek - 1; i >= 0; i--) {\n        const day = new Date(year, month, -i)\n        days.push({\n          date: day.getDate(),\n          isCurrentMonth: false,\n          isToday: false,\n          hasEvents: false\n        })\n      }\n\n      // 添加当前月的日期\n      for (let i = 1; i <= daysInMonth; i++) {\n        const day = new Date(year, month, i)\n        days.push({\n          date: i,\n          isCurrentMonth: true,\n          isToday: day.toDateString() === today.toDateString(),\n          hasEvents: false\n        })\n      }\n\n      // 添加下个月的日期\n      const remainingDays = 42 - days.length\n      for (let i = 1; i <= remainingDays; i++) {\n        days.push({\n          date: i,\n          isCurrentMonth: false,\n          isToday: false,\n          hasEvents: false\n        })\n      }\n\n      // 检查事件\n      days.forEach(day => {\n        day.hasEvents = props.events.some(event => {\n          const eventDate = new Date(event.date)\n          return eventDate.getDate() === day.date &&\n                 eventDate.getMonth() === month &&\n                 eventDate.getFullYear() === year\n        })\n      })\n\n      return days\n    })\n\n    function previousMonth() {\n      currentDate.value = new Date(currentDate.value.getFullYear(), currentDate.value.getMonth() - 1, 1)\n    }\n\n    function nextMonth() {\n      currentDate.value = new Date(currentDate.value.getFullYear(), currentDate.value.getMonth() + 1, 1)\n    }\n\n    function selectDate(day) {\n      if (day.isCurrentMonth) {\n        const selectedDate = new Date(currentDate.value.getFullYear(), currentDate.value.getMonth(), day.date)\n        eventStore.setSelectedDate(selectedDate);\n        emit('date-selected', selectedDate)\n      }\n    }\n\n    watchEffect(() => {\n      console.log('Month changed:', currentDate.value.toISOString())\n    })\n\n    return {\n      currentMonthYear,\n      weekdays,\n      calendarDays,\n      previousMonth,\n      nextMonth,\n      selectDate\n    }\n  }\n}\n</script>\n\n<style scoped>\n.monthly-calendar {\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);\n  padding: 16px;\n  font-size: 0.9em;\n  max-width: 300px;\n}\n\n.calendar-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n  font-weight: 500;\n  color: #4a0e4e;\n}\n\n.calendar-header button {\n  background: none;\n  border: none;\n  font-size: 1.2em;\n  cursor: pointer;\n  color: #4a0e4e;\n  transition: color 0.3s ease;\n}\n\n.calendar-header button:hover {\n  color: #6a1c6e;\n}\n\n.calendar-grid {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 4px;\n}\n\n.weekday {\n  text-align: center;\n  font-weight: 500;\n  color: #4a0e4e;\n  font-size: 0.8em;\n  padding: 8px 0;\n  text-transform: uppercase;\n}\n\n.calendar-day {\n  text-align: center;\n  padding: 8px 0;\n  border-radius: 4px;\n  cursor: pointer;\n  position: relative;\n  font-size: 0.9em;\n  transition: background-color 0.3s ease;\n}\n\n.current-month {\n  background-color: #f5f5f5;\n}\n\n.today {\n  background-color: #4a0e4e;\n  color: white;\n  font-weight: bold;\n}\n\n.has-events::after {\n  content: '';\n  position: absolute;\n  bottom: 2px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 4px;\n  height: 4px;\n  border-radius: 50%;\n  background-color: #4a0e4e;\n}\n\n.calendar-day:not(.current-month) {\n  color: #ccc;\n}\n\n.calendar-day:hover:not(.today) {\n  background-color: #e0e0e0;\n}\n</style>","import { render } from \"./MonthlyCalendar.vue?vue&type=template&id=239ece5b&scoped=true\"\nimport script from \"./MonthlyCalendar.vue?vue&type=script&lang=js\"\nexport * from \"./MonthlyCalendar.vue?vue&type=script&lang=js\"\n\nimport \"./MonthlyCalendar.vue?vue&type=style&index=0&id=239ece5b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-239ece5b\"]])\n\nexport default __exports__","<template>\n  <div class=\"role-management\">\n    <h2>角色管理</h2>\n    <div class=\"add-role\">\n      <input v-model=\"newRoleName\" placeholder=\"输入新角色名称\" />\n      <button @click=\"addRole\">添加角色</button>\n    </div>\n    <ul class=\"role-list\">\n      <li v-for=\"role in eventStore.familyMembers\" :key=\"role.id\" class=\"role-item\">\n        <template v-if=\"editingRole === role.id\">\n          <input v-model=\"editedRoleName\" @keyup.enter=\"updateRole(role.id)\" />\n          <button @click=\"updateRole(role.id)\">保存</button>\n          <button @click=\"cancelEdit\">取消</button>\n        </template>\n        <template v-else>\n          <span>{{ role.name }}</span>\n          <button v-if=\"!role.isDefault\" @click=\"startEdit(role)\">编辑</button>\n          <button v-if=\"!role.isDefault\" @click=\"deleteRole(role.id)\">删除</button>\n        </template>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\nimport { useEventStore } from '@/stores/events';\n\nconst eventStore = useEventStore();\n\nconst newRoleName = ref('');\nconst editingRole = ref(null);\nconst editedRoleName = ref('');\n\nconst addRole = () => {\n  if (newRoleName.value.trim()) {\n    eventStore.addRole(newRoleName.value.trim());\n    newRoleName.value = '';\n  }\n};\n\nconst startEdit = (role) => {\n  editingRole.value = role.id;\n  editedRoleName.value = role.name;\n};\n\nconst updateRole = (roleId) => {\n  if (editedRoleName.value.trim()) {\n    eventStore.updateRole(roleId, editedRoleName.value.trim());\n    cancelEdit();\n  }\n};\n\nconst cancelEdit = () => {\n  editingRole.value = null;\n  editedRoleName.value = '';\n};\n\nconst deleteRole = (roleId) => {\n  if (confirm('确定要删除这个角色吗？')) {\n    eventStore.deleteRole(roleId);\n  }\n};\n</script>\n  \n  <style scoped>\n  .role-management {\n    padding: 20px;\n  }\n  \n  .add-role {\n    margin-bottom: 20px;\n  }\n  \n  .role-list {\n    list-style-type: none;\n    padding: 0;\n  }\n  \n  .role-item {\n    margin-bottom: 10px;\n    display: flex;\n    align-items: center;\n  }\n  \n  .role-item span {\n    margin-right: 10px;\n  }\n  \n  button {\n    margin-left: 5px;\n  }\n  </style>","import script from \"./RoleManagement.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RoleManagement.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RoleManagement.vue?vue&type=style&index=0&id=0678cc2a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0678cc2a\"]])\n\nexport default __exports__","import { ref } from 'vue';\n\nexport default function useWebSocket(eventStore) {\n  const ws = ref(null);\n  const isPolling = ref(false);\n\n  const connectWebSocket = () => {\n    const wsUrl = process.env.VUE_APP_WS_URL || 'ws://localhost:3000';\n    console.log('尝试连接到 WebSocket:', wsUrl);\n    ws.value = new WebSocket(wsUrl);\n\n    ws.value.onopen = () => {\n      console.log('WebSocket 连接已建立');\n      isPolling.value = false;\n    };\n\n    ws.value.onmessage = (event) => {\n      console.log('收到 WebSocket 消息:', event.data);\n      try {\n        const data = JSON.parse(event.data);\n        if (data.type === 'initial') {\n          eventStore.setEventsFromWebSocket(data.events);\n        } else if (data.type === 'newEvent') {\n          console.log('收到新事件:', data.event);\n          eventStore.addEventFromWebSocket(data.event);\n        }\n      } catch (error) {\n        console.error('处理 WebSocket 消息时出错:', error);\n      }\n    };\n\n    ws.value.onerror = (error) => {\n      console.error('WebSocket 错误:', error);\n      if (!isPolling.value) {\n        console.log('切换到轮询模式');\n        pollForEvents();\n      }\n    };\n\n    ws.value.onclose = (event) => {\n      console.log(`WebSocket 连接关闭。代码: ${event.code}, 原因: ${event.reason}`);\n      if (!isPolling.value) {\n        console.log('5秒后尝试重新连接...');\n        setTimeout(connectWebSocket, 5000);\n      }\n    };\n  };\n\n  const pollForEvents = async () => {\n    if (isPolling.value) return;\n    isPolling.value = true;\n\n    const poll = async () => {\n      try {\n        await eventStore.fetchEvents();\n        // 确保在轮询获取事件后更新过滤后的事件列表\n        eventStore.$patch({ events: [...eventStore.events] });\n      } catch (error) {\n        console.error('轮询错误:', error);\n      }\n\n      if (isPolling.value) {\n        setTimeout(poll, 5000); // 每5秒轮询一次\n      }\n    };\n\n    poll();\n  };\n\n  const disconnectWebSocket = () => {\n    if (ws.value) {\n      ws.value.close();\n    }\n    isPolling.value = false;\n  };\n\n  return {\n    connectWebSocket,\n    disconnectWebSocket\n  };\n}","import { render } from \"./HomeView.vue?vue&type=template&id=d64e7b0c&scoped=true\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js\"\n\nimport \"./HomeView.css?vue&type=style&index=0&id=d64e7b0c&scoped=true&lang=css&external\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d64e7b0c\"]])\n\nexport default __exports__","<template>\n  <div class=\"schedule-input-view\">\n    <h2>日程安排输入</h2>\n    <textarea \n      v-model=\"scheduleInput\" \n      placeholder=\"输入您的日程安排...\" \n      rows=\"4\"\n    ></textarea>\n    <button \n      @click=\"submitSchedule\" \n      :disabled=\"isSubmitting\"\n    >\n      {{ isSubmitting ? '提交中...' : '提交日程' }}\n    </button>\n    <div v-if=\"response\" class=\"response-area\">\n      <h3>响应：</h3>\n      <pre>{{ response }}</pre>\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable no-console */\nimport axios from 'axios';\n\nexport default {\n  name: 'ScheduleInputView',\n  data() {\n    return {\n      scheduleInput: '',\n      apiKey: process.env.VUE_APP_DIFY_API_KEY,\n      apiUrl: process.env.VUE_APP_DIFY_API_URL,\n      userId: 'your-user-id', // 考虑也将此移至环境变量\n      response: null,\n      isSubmitting: false\n    };\n  },\n  methods: {\n    async submitSchedule() {\n      if (this.isSubmitting) return;\n      this.isSubmitting = true;\n\n      try {\n        console.log('正在发送请求...');\n        console.log('API URL:', this.apiUrl);\n        console.log('API Key (前5个字符):', this.apiKey.substring(0, 5));\n\n        const requestBody = {\n          inputs: {\n            input: this.scheduleInput\n          },\n          response_mode: \"blocking\",\n          user: this.userId\n        };\n\n        console.log('请求体:', JSON.stringify(requestBody));\n\n        const response = await axios({\n          method: 'post',\n          url: this.apiUrl,\n          data: requestBody,\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${this.apiKey.trim()}`\n          }\n        });\n\n        console.log('响应:', response.data);\n\n        if (response.data && response.data.data && response.data.data.outputs && response.data.data.outputs.text) {\n          this.response = response.data.data.outputs.text;\n        } else {\n          this.response = '未找到有效的输出';\n          console.log('API 响应中没有找到预期的输出结构');\n        }\n\n      } catch (error) {\n        console.error('提交日程时出错:', error.message);\n        if (error.response) {\n          console.error('错误数据:', error.response.data);\n          console.error('错误状态:', error.response.status);\n          console.error('错误头部:', error.response.headers);\n          this.response = '错误: ' + JSON.stringify(error.response.data, null, 2);\n        } else if (error.request) {\n          console.error('未收到响应:', error.request);\n          this.response = '错误: 未收到服务器响应';\n        } else {\n          this.response = '错误: ' + error.message;\n        }\n      } finally {\n        this.isSubmitting = false;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.schedule-input-view {\n  max-width: 600px;\n  margin: 0 auto;\n  padding: 20px;\n  font-family: Arial, sans-serif;\n}\n\nh2 {\n  color: #333;\n  margin-bottom: 20px;\n  font-size: 1.5rem;\n}\n\ntextarea {\n  width: 100%;\n  padding: 10px;\n  margin-bottom: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  resize: vertical;\n  font-size: 16px; /* 防止在移动设备上缩放 */\n}\n\nbutton {\n  background-color: #4a0e4e;\n  color: white;\n  padding: 12px 20px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 16px;\n  width: 100%; /* 在移动设备上占满宽度 */\n  transition: background-color 0.3s;\n}\n\nbutton:hover:not(:disabled) {\n  background-color: #3a0b3e;\n}\n\nbutton:disabled {\n  background-color: #cccccc;\n  cursor: not-allowed;\n}\n\n.response-area {\n  margin-top: 20px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  padding: 10px;\n  background-color: #f9f9f9;\n}\n\n.response-area h3 {\n  margin-top: 0;\n  color: #333;\n}\n\npre {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  background-color: #f0f0f0;\n  padding: 10px;\n  border-radius: 4px;\n  font-size: 14px;\n  overflow-x: auto; /* 允许在小屏幕上水平滚动 */\n}\n\n@media (max-width: 768px) {\n  .schedule-input-view {\n    padding: 15px;\n  }\n\n  h2 {\n    font-size: 1.3rem;\n  }\n\n  textarea {\n    padding: 8px;\n  }\n\n  button {\n    padding: 10px 15px;\n  }\n\n  pre {\n    font-size: 12px;\n  }\n}\n</style>","import { render } from \"./ScheduleInputView.vue?vue&type=template&id=2789af02&scoped=true\"\nimport script from \"./ScheduleInputView.vue?vue&type=script&lang=js\"\nexport * from \"./ScheduleInputView.vue?vue&type=script&lang=js\"\n\nimport \"./ScheduleInputView.vue?vue&type=style&index=0&id=2789af02&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2789af02\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\nimport HomeView from '../views/HomeView.vue'\nimport ScheduleInputView from '../views/ScheduleInputView.vue'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: HomeView\n  },\n  {\n    path: '/schedule-input',\n    name: 'scheduleInput',\n    component: ScheduleInputView\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\nexport default router","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready () {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered (registration) {\n      console.log('Service worker has been registered.')\n      // 检查更新\n      setInterval(() => {\n        registration.update();\n      }, 1000 * 60 * 60); // 每小时检查一次更新\n    },\n    cached () {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound () {\n      console.log('New content is downloading.')\n    },\n    updated (registration) {\n      console.log('New content is available; please refresh.')\n      // 提示用户刷新页面\n      const newWorker = registration.waiting;\n      if (window.confirm('新版本可用。是否刷新页面？')) {\n        newWorker.postMessage({ type: 'SKIP_WAITING' });\n        window.location.reload();\n      }\n    },\n    offline () {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error (error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}","import { createApp } from 'vue'\nimport { createPinia } from 'pinia'\nimport App from './App.vue'\nimport router from './router'\nimport axios from 'axios'\nimport './registerServiceWorker'\n\n// 配置 axios 默认 URL\naxios.defaults.baseURL = process.env.VUE_APP_API_URL || 'http://localhost:3000'\n\nconst app = createApp(App)\nconst pinia = createPinia()\n\napp.use(router)\napp.use(pinia)\n\n// 保持屏幕常亮\nconst keepAwake = () => {\n  if ('wakeLock' in navigator) {\n    navigator.wakeLock.request('screen').then(() => {\n      console.log('Screen will stay awake')\n    }).catch((err) => {\n      console.error(`${err.name}, ${err.message}`)\n    })\n  } else {\n    console.warn('Wake Lock API not supported')\n  }\n}\n\n// 检查并处理 Service Worker 更新\nif ('serviceWorker' in navigator) {\n  navigator.serviceWorker.ready.then(registration => {\n    registration.addEventListener('updatefound', () => {\n      const newWorker = registration.installing;\n      newWorker.addEventListener('statechange', () => {\n        if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\n          const shouldUpdate = window.confirm('新版本可用。是否立即更新？');\n          if (shouldUpdate) {\n            newWorker.postMessage({ type: 'SKIP_WAITING' });\n            window.location.reload();\n          }\n        }\n      });\n    });\n  });\n\n  let refreshing = false;\n  navigator.serviceWorker.addEventListener('controllerchange', () => {\n    if (!refreshing) {\n      window.location.reload();\n      refreshing = true;\n    }\n  });\n}\n\napp.mount('#app')\nkeepAwake()","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfrontend\"] = self[\"webpackChunkfrontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(7725); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","_createElementBlock","_hoisted_1","_createElementVNode","_createVNode","_component_router_view","name","__exports__","render","class","key","_hoisted_2","_hoisted_3","_component_CurrentDateTime","_hoisted_4","_hoisted_5","_component_MonthlyCalendar","events","$setup","eventStore","onDateSelected","handleDateSelected","onSearch","handleSearch","_component_FamilyTabs","onOpenRoleManagement","_cache","$event","showRoleManagement","_hoisted_6","_component_EventBlockView","_hoisted_7","_hoisted_8","onClick","_component_RoleManagement","_createCommentVNode","useEventStore","defineStore","state","familyMembers","selectedMember","selectedDate","Date","searchQuery","pendingEvents","Set","getters","filteredEvents","filter","event","eventStartDate","startDate","matchesDate","getFullYear","getMonth","getDate","matchesSearch","title","toLowerCase","includes","matchesMember","role","actions","fetchEvents","response","axios","get","this","data","console","log","error","setSelectedMember","memberName","resetSelectedMember","fetchFamilyMembers","map","_id","weeklyStars","isDefault","color","getDefaultColor","borderColor","getDefaultBorderColor","roleName","colors","borderColors","setEventsFromWebSocket","addEventFromWebSocket","existingEventIndex","findIndex","e","endDate","push","addEvent","eventData","eventKey","has","add","post","delete","updateEventCompletion","eventId","isCompleted","put","completed","updatedEvent","index","updatedStars","fetchWeeklyStars","starData","forEach","member","setSelectedDate","date","setSearchQuery","query","addRole","newRole","deleteRole","roleId","updateRole","newName","props","__props","emit","__emit","ref","description","startTime","endTime","timeSlots","endTimeSlots","computed","startIndex","value","indexOf","slice","sortedFamilyMembers","members","allMember","find","m","splice","unshift","sort","a","b","localeCompare","generateTimeSlots","slots","now","start","i","time","getTime","toLocaleTimeString","hour","minute","setDefaultTimes","currentTime","closestTime","reduce","prev","curr","Math","abs","endIndex","min","length","close","submitEvent","today","startHours","startMinutes","split","endHours","endMinutes","parseInt","setDate","formattedEvent","toISOString","onMounted","watch","newValue","showEventModal","resetTimer","selectMember","clearTimeout","resetAutoResetTimer","setTimeout","openAddEventModal","closeAddEventModal","async","submitNewEvent","onUnmounted","sortedEvents","timeCompare","getEventKey","formatEventTime","end","getEventStyle","backgroundColor","borderLeft","toggleEventCompletion","formattedDateTime","updateDateTime","toLocaleDateString","year","month","day","timer","setInterval","clearInterval","args","previousMonth","_toDisplayString","currentMonthYear","nextMonth","_Fragment","_renderList","weekdays","calendarDays","_normalizeClass","isCurrentMonth","isToday","hasEvents","selectDate","_createTextVNode","type","Array","default","setup","currentDate","toLocaleString","firstDay","lastDay","daysInMonth","startingDayOfWeek","getDay","days","toDateString","remainingDays","some","eventDate","watchEffect","newRoleName","editingRole","editedRoleName","trim","startEdit","cancelEdit","confirm","useWebSocket","ws","isPolling","connectWebSocket","wsUrl","process","WebSocket","onopen","onmessage","JSON","parse","onerror","pollForEvents","onclose","code","reason","poll","$patch","disconnectWebSocket","components","FamilyTabs","EventBlockView","CurrentDateTime","MonthlyCalendar","RoleManagement","deep","$data","scheduleInput","placeholder","rows","$options","submitSchedule","disabled","isSubmitting","apiKey","apiUrl","userId","methods","substring","requestBody","inputs","input","response_mode","user","stringify","method","url","headers","outputs","text","message","status","request","routes","path","component","HomeView","ScheduleInputView","router","createRouter","history","createWebHistory","register","ready","registered","registration","update","cached","updatefound","updated","newWorker","waiting","window","postMessage","location","reload","offline","defaults","baseURL","app","createApp","App","pinia","createPinia","use","keepAwake","navigator","wakeLock","then","catch","err","warn","serviceWorker","addEventListener","installing","controller","shouldUpdate","refreshing","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","r","d","definition","o","defineProperty","enumerable","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}